<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Interface | CarbonWatch Kenya</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle fill='%232d5016' cx='50' cy='50' r='50'/><path fill='%23ffffff' d='M50 25l10 15h-20z M40 45h20v20h-20z'/></svg>">
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-section">
                <a href="index.html">
                    <div class="logo-icon">CW</div>
                    <div>
                        <h1>CarbonWatch Kenya</h1>
                        <div class="tagline">Seamless mobile-first platform</div>
                    </div>
                </a>
            </div>
            <div class="nav-wrap">
                <button class="hamburger" id="hamburger" type="button" aria-label="Toggle menu">
                    <span></span><span></span><span></span>
                </button>
                <nav class="layer-nav">
                    <a href="index.html">Home</a>
                    <a href="community-interface.html">Community Interface</a>
                    <a href="scout-engine.html">SCOUT Engine</a>
                    <a href="dashboard.html">Public Dashboard</a>
                    <a href="sources.html">Sources</a>
                </nav>
            </div>
            <div class="header-actions">
                <div class="live-indicator">
                    <div class="live-dot"></div>
                    LIVE
                </div>
                <button class="btn-export">EXPORT</button>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="layer-section layer-1">
            <h3>Bidirectional Communication Channels</h3>

            <div class="tool-card tool-card-phone">
                <div class="tool-header">
                    <h2 class="tool-title">SMS tool</h2>
                    <div class="lang-buttons" role="group" aria-label="Language">
                        <button type="button" class="lang-btn active" data-lang="en">English</button>
                        <button type="button" class="lang-btn" data-lang="sw">Kiswahili</button>
                    </div>
                </div>
                <p class="tool-intro" id="phone-intro">Community members receive alerts and can reply via SMS or IVR. Use the mockup below to see how messages appear in English or Kiswahili.</p>
                <div class="phone-mockup">
                    <div class="phone-frame">
                        <div class="phone-screen">
                            <div class="phone-statusbar">
                                <span class="phone-time" id="phone-time">9:15</span>
                                <div class="phone-icons">
                                    <div class="phone-signal" data-level="5" aria-hidden="true">
                                        <span class="signal-bar"></span><span class="signal-bar"></span><span class="signal-bar"></span><span class="signal-bar"></span><span class="signal-bar"></span>
                                    </div>
                                    <span class="phone-network">5G</span>
                                    <span class="phone-battery">100%</span>
                                </div>
                            </div>
                            <div class="phone-header">
                                <span class="phone-back" aria-hidden="true">&lsaquo;</span>
                                <span class="phone-contact">CarbonWatch</span>
                            </div>
                            <div class="phone-thread">
                                <div class="phone-thread-divider" id="phone-divider">Today 9:15</div>
                                <div class="msg msg-in">
                                    <span class="msg-body" id="phone-msg-in">Reply with your conservancy code to check carbon payment status or report an issue.</span>
                                    <span class="msg-time">9:14</span>
                                </div>
                                <div class="msg msg-out">
                                    <span class="msg-body" id="phone-msg-out">Sera. Payment not received.</span>
                                    <span class="msg-time">9:15</span>
                                </div>
                            </div>
                            <div class="phone-input-wrap">
                                <span class="phone-attach" aria-hidden="true">+</span>
                                <input type="text" class="phone-input" id="phone-input" placeholder="Text (Safaricom)" readonly aria-label="Message input">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tools-channels">
                <h4>Channels</h4>
                <div class="channel-list">
                    <div class="channel-item">
                        <strong>SMS</strong>
                        <p>Community members receive short codes and can reply to check payment status, report issues, or request information. Messages are logged and can trigger follow-up.</p>
                    </div>
                    <div class="channel-item">
                        <strong>IVR (Interactive Voice Response)</strong>
                        <p>Phone-based menu for those who prefer or only have voice access. Callers can select options for carbon updates, complaints, or general conservancy information.</p>
                    </div>
                </div>
            </div>

            <div class="scout-flow">
                <h4>Process</h4>
                <div class="flow-steps">
                    <div class="flow-step">
                        <span class="flow-step-num">1</span>
                        <h5>Community input</h5>
                        <p>Members send SMS or use IVR to report issues, ask about carbon payments, or voice perspectives. Inputs are timestamped and linked to conservancy where possible.</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-num">2</span>
                        <h5>Logging and routing</h5>
                        <p>Implementing agency (e.g. NRT, partners) logs each input and routes to the right team. Response time and outcome are tracked for transparency.</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-num">3</span>
                        <h5>Response and follow-up</h5>
                        <p>Community receives confirmation and, where appropriate, a direct response. Recurring or serious issues feed into warning signs and action prompts on the dashboard.</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-num">4</span>
                        <h5>Education and dashboard</h5>
                        <p>Carbon modules and updates can be sent via SMS/IVR. The public dashboard shows issue counts, response times, and education reach where disclosed.</p>
                    </div>
                </div>
            </div>

            <div class="community-indicators">
                <h4>Warning signs (Ishara za tahadhari)</h4>
                <p>Community Interface feeds into governance signals. Watch for:</p>
                <div class="indicators-grid">
                    <div class="indicators-block">
                        <strong>Sudden spike in complaints</strong>
                        <ul>
                            <li>Payment delays, benefit-sharing disputes, or repeated unresolved issues in one conservancy.</li>
                        </ul>
                    </div>
                    <div class="indicators-block">
                        <strong>Low or falling response rate</strong>
                        <ul>
                            <li>Many inputs with no logged response or long delays. Action: review capacity and escalation.</li>
                        </ul>
                    </div>
                    <div class="indicators-block">
                        <strong>Topics that recur</strong>
                        <ul>
                            <li>Same theme (e.g. water, grazing, carbon timing) across many messages suggests an education or governance gap.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tools-summary">
                <h4>Contact and escalation</h4>
                <p id="contact-text">For details on how to report or escalate, contact your conservancy board. CarbonWatch does not replace official channels—it makes community voice visible and response accountable.</p>
                <p id="contact-sw" style="display:none;">Kwa maelezo ya jinsi ya kuripoti au kuwasiliana, wasiliana na bodi yako ya conservancy. CarbonWatch haibadilishi njia rasmi—inafanya sauti ya jamii kuonekana na jibu kuwa na uwajibikaji.</p>
            </div>

            <div class="layer-grid">
                <div class="layer-card">
                    <h4>Community Interface outputs</h4>
                    <ul>
                        <li><strong>Logged inputs:</strong> SMS and IVR messages with conservancy, date, and topic where available.</li>
                        <li><strong>Response metrics:</strong> Time to first response, resolution status (where disclosed).</li>
                        <li><strong>Warning signs:</strong> Sudden spikes, recurring themes, low response rates—surfaced on the Public Dashboard.</li>
                        <li><strong>Education reach:</strong> Carbon modules sent via SMS/IVR; summarized on dashboard where disclosed.</li>
                    </ul>
                    <p>Community Interface should feed governance action, not just data.</p>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-text">© 2026 SMART Project Team at Cornell | CarbonWatch Community Tracker Dashboard</div>
    </footer>

    <script src="./script.js"></script>
    <script>
(function() {
  var LANG = {
    en: {
      intro: 'Community members receive alerts and can reply via SMS or IVR. Use the mockup below to see how messages appear in English or Kiswahili.',
      divider: 'Today 9:15',
      msgIn: 'Reply with your conservancy code to check carbon payment status or report an issue.',
      msgOut: 'Sera. Payment not received.',
      placeholder: 'Text (Safaricom)'
    },
    sw: {
      intro: 'Wanachama wa jamii wanapokea arifa na wanaweza kujibu kupitia SMS au IVR. Tumia mfano hapa chini kuona jinsi ujumbe unavyoonekana kwa Kiswahili.',
      divider: 'Leo 9:15',
      msgIn: 'Jibu kwa msimbo wa conservancy yako kuangalia hali ya malipo ya kaboni au ripoti tatizo.',
      msgOut: 'Sera. Malipo hayajapokelewa.',
      placeholder: 'Andika (Safaricom)'
    }
  };
  function setLang(lang) {
    var d = LANG[lang] || LANG.en;
    var intro = document.getElementById('phone-intro');
    if (intro) intro.textContent = d.intro;
    var div = document.getElementById('phone-divider');
    if (div) div.textContent = d.divider;
    var msgIn = document.getElementById('phone-msg-in');
    if (msgIn) msgIn.textContent = d.msgIn;
    var msgOut = document.getElementById('phone-msg-out');
    if (msgOut) msgOut.textContent = d.msgOut;
    var input = document.getElementById('phone-input');
    if (input) input.placeholder = d.placeholder;
    var contactEn = document.getElementById('contact-text');
    var contactSw = document.getElementById('contact-sw');
    if (contactEn && contactSw) {
      contactEn.style.display = lang === 'en' ? 'block' : 'none';
      contactSw.style.display = lang === 'sw' ? 'block' : 'none';
    }
  }
  document.querySelectorAll('.tool-card-phone .lang-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.tool-card-phone .lang-btn').forEach(function(b) { b.classList.remove('active'); });
      btn.classList.add('active');
      setLang(btn.getAttribute('data-lang'));
    });
  });
})();
    </script>
</body>
</html>
